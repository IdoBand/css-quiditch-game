@use '../../_globals.scss' as globals;
@use 'sass:math';
$goals-gap: 0.8em;
$goal-color: gold;
$pole-rotate-start: 90deg;

.goals-container {
    position: absolute;
    bottom: -5em;

    &.goals-pos-left {
        transform: rotateY($pole-rotate-start) translateZ(-10em);
    }
    &.goals-pos-right {
        transform: rotateY(-$pole-rotate-start) translateZ(-10em);
    }
}
@mixin goal-props {
    position: absolute;
    width: 2px;
    bottom: 0;
}

@keyframes rightPoleRotate {
    to {
        transform: rotateY(-270deg);
    }
}

@keyframes leftPoleRotate {
    to {
        transform: rotateY(-450deg);
    }
}

.tall-goal {
    @include goal-props;
    height: 3em;
}

.mid-goal {
    @include goal-props;
    height: 2.5em;
    translate: ($goals-gap);
}

.short-goal {
    @include goal-props;
    height: 2em;
    translate: (-$goals-gap);
}

.pole {
    position: absolute;
    background: $goal-color;
    box-shadow: 0 0 1px rgba(0, 0, 0, 0.2) inset;
    height: 100%;
    width: 100%;
    &.goals-pos-right {
        transform: rotateY(90deg);
        &.active {
            animation: rightPoleRotate 20s linear infinite;
        }
    }
    &.goals-pos-left {
        transform: rotateY(-90deg);
        &.active {
            animation: leftPoleRotate 20s linear infinite;
        }
    }
}

.hoop {
    position: absolute;

    &.back {
        transform: rotateY(180deg) translateZ(-1px);
    }
    // > div {
    //     @for $i from 1 to 9 {
    //     $angle-deg: $i * 22.5deg;
    //     $angle-rad: calc($angle-deg * math.$pi / 180);
    //     $tZ: #{$i * 0.004em};
    //     $size: calc(sin($angle-rad) * 0.004em);
    //     // @debug $size;
    //         &:nth-child(#{$i}) {
    //             box-shadow: 0 0 0.3px rgba(0, 0, 0, 0.1) inset;
    //             position: absolute;
    //             inset: -3px;
    //             border: $size solid $goal-color;
    //             border-radius: 50%;
    //             transform: rotateY(0deg) translateZ($tZ) translateY(-50%);
    //         }
    //     }
    // }
}
.hoop div:nth-child(1), .hoop-back div:nth-child(1) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(1 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(1 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(2), .hoop-back div:nth-child(2) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(2 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(2 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(3), .hoop-back div:nth-child(3) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(3 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(3 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(4), .hoop-back div:nth-child(4) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(4 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(4 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(5), .hoop-back div:nth-child(5) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(5 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(5 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(6), .hoop-back div:nth-child(6) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(6 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(6 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(7), .hoop-back div:nth-child(7) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(7 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(7 * 0.004em)) translateY(-50%);
}

.hoop div:nth-child(8), .hoop-back div:nth-child(8) {
    box-shadow: 0 0 0.3px rgba(0,0,0,0.2) inset;
    position: absolute;
    inset: -7px;
    border: calc(sin(8 * 22.5deg) * 0.004em) solid $goal-color;
    border-radius: 50%;
    transform: rotateY(0deg) translateZ(calc(8 * 0.004em)) translateY(-50%);
}